import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as u,e as n,a as t,b as i,d as s,f as o,r,o as d}from"./app-C9ISLiDV.js";const c="/assets/01-install-start-Bq-MV-Cm.png",g="/assets/01-install-finish-CSZ5kQLW.png",b={},k={class:"hint-container tip"};function y(w,e){const l=r("RouteLink"),a=r("CodeTabs");return d(),u("div",null,[e[11]||(e[11]=n('<h2 id="selenium介绍" tabindex="-1"><a class="header-anchor" href="#selenium介绍"><span>Selenium介绍</span></a></h2><blockquote><p>Selenium官方中文文档：<a href="https://www.selenium.dev/zh-cn/documentation/" target="_blank" rel="noopener noreferrer">https://www.selenium.dev/zh-cn/documentation/</a></p></blockquote><p>Selenium 可以直接在浏览器上操作，像人一样进行文本框输入内容、按钮点击、链接弹出、下拉等操作，一般我们用它来做自动化测试。</p><p>它在爬虫领域利用也非常广泛，能解决大部分网页反爬问题，Selenium可以根据驱动的代码指令来获取网页内容，甚至是验证码的截屏，或判断网站上的某些动作是否发生。这篇文章主要是围绕着爬虫展开。</p><p>Python 提供了多种模拟器运行库，Selenium、Splash、Pyppetter、Playwright 等，可以方便帮我们爬取，很大程度上可以绕过JavaScript动态渲染，获取数据。</p><h2 id="selenium环境搭建" tabindex="-1"><a class="header-anchor" href="#selenium环境搭建"><span>Selenium环境搭建</span></a></h2>',6)),t("blockquote",null,[e[3]||(e[3]=t("p",null,"我本机是 windows 11，浏览器使用 Edge 来进行测试",-1)),t("p",null,[e[1]||(e[1]=i("Python建议使用")),s(l,{to:"/blogs/1.python/20241124-how-anaconda.html"},{default:o(()=>e[0]||(e[0]=[i("环境管理Anaconda")])),_:1}),e[2]||(e[2]=i("，当前使用的Python3.8"))])]),s(a,{id:"28",data:[{id:"Python"}]},{title0:o(({value:p,isActive:m})=>e[4]||(e[4]=[i("Python")])),tab0:o(({value:p,isActive:m})=>e[5]||(e[5]=[t("div",{class:"language-sh","data-highlighter":"shiki","data-ext":"sh","data-title":"sh",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[t("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[t("code",null,[t("span",{class:"line"},[t("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"pip"),t("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," install"),t("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," selenium")])])])],-1)])),_:1}),t("div",k,[e[9]||(e[9]=t("p",{class:"hint-container-title"},"提示",-1)),t("p",null,[e[7]||(e[7]=i("国内环境如果提示连接不上，可")),s(l,{to:"/blogs/1.python/20241124-set-mirror.html"},{default:o(()=>e[6]||(e[6]=[i("参考")])),_:1}),e[8]||(e[8]=i("设置镜像源。当前使用的（2024-11-24）："))]),e[10]||(e[10]=n('<div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> selenium</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://pypi.tuna.tsinghua.edu.cn/simple/</span></span></code></pre></div>',1))]),e[12]||(e[12]=n('<p>安装成功以后，会出现如下界面</p><figure><img src="'+c+'" alt="开始安装Selenium" tabindex="0" loading="lazy"><figcaption>开始安装Selenium</figcaption></figure><figure><img src="'+g+`" alt="安装完成Selenium" tabindex="0" loading="lazy"><figcaption>安装完成Selenium</figcaption></figure><h2 id="安装驱动webdriver" tabindex="-1"><a class="header-anchor" href="#安装驱动webdriver"><span>安装驱动WebDriver</span></a></h2><blockquote><p>WebDriver可以使用 XPath，CSS 选择器来查找页面元素，与元素进行交互（发送文本，点击等），以及调用JS下拉页面等...</p></blockquote><ul><li>Chrome浏览器</li></ul><p>淘宝镜像：<a href="https://npmmirror.com/package/chromedriver/versions" target="_blank" rel="noopener noreferrer">https://npmmirror.com/package/chromedriver/versions</a></p><p>Google官网：<a href="https://googlechromelabs.github.io/chrome-for-testing/#stable" target="_blank" rel="noopener noreferrer">https://googlechromelabs.github.io/chrome-for-testing/#stable</a></p><ul><li>Firefox浏览器</li></ul><p><a href="https://github.com/mozilla/geckodriver/releases/" target="_blank" rel="noopener noreferrer">https://github.com/mozilla/geckodriver/releases/</a></p><ul><li>Edge浏览器</li></ul><p><a href="https://developer.microsoft.com/en-us/microsoftedge/tools/webdriver/#downloads" target="_blank" rel="noopener noreferrer">https://developer.microsoft.com/en-us/microsoftedge/tools/webdriver/#downloads</a></p><ul><li>无头浏览器</li></ul><p>无界面浏览器，它会把网站加载到内存并执行页面上的 JavaScript，因为不会展示图形界面，所以运行起来比完整的浏览器要高效，它一般是用在像linux线上服务器，不过现在 chrome（v65以上） 也支持无头浏览器了。</p><p><strong>下载安装步骤如下：需要下对应浏览器版本的驱动</strong></p><p>查看 chrome的版本是最新版本123，所以下载对应的驱动</p><p>下载对应的版本： macos 分为 intel 还是arm 的，我因电脑是 intel，所以选择时也要选mac64</p><p>浏览器对应的驱动版本</p><p>驱动安装和测试 将驱动文件解压，放在环境变量的目录/usr/local/bin 就行</p><p>mv Downloads/chromedriver-mac-x64/chromedriver /usr/local/bin/ 1 测试 之后的代码都是使用了测试用例，具体代码看码云上的源码，这里先做一个前置操作，设置chrome 驱动的路径，默认在代码中不设置，程序会自动从环境变量中去寻找，但是 selenium启动时会超慢</p><p>def setUp(self) -&gt; None: &quot;&quot;&quot; @todo: 设置驱动的路径,主要是为了加快selenium的启动速度，不用再去搜索驱动的路径 @return: &quot;&quot;&quot; self.service = ChromService(executable_path=&quot;/usr/local/bin/chromedriver&quot;) pass &#39; 运行运行 def test_chrome_driver(self): &quot;&quot;&quot; @todo: selenium测试chrome的浏览器 @return: &quot;&quot;&quot; # 设置驱动的路径,这是 selenium4之后的新写法 # 实例化浏览器对象 browser = webdriver.Chrome(service=self.service) # 发送请求访问百度 browser.get(&#39;https://www.baidu.com&#39;) # 获取页面标题 print(&quot;当前页面标题：&quot;, browser.title)</p><pre><code>time.sleep(10)
# 退出浏览器
browser.quit()
pass
</code></pre><p>&#39; 运行运行</p><p>其流程是: ①、开启了一个 新的chrome 窗口，并打开 baidu 网站 ②、输出 title 标题 ③、关闭浏览器，注意，在 selenium4之前最后一定要手动退出，不然会有残留进程，之后是不用写，自动关闭</p>`,24))])}const S=h(b,[["render",y],["__file","how-selenium.html.vue"]]),q=JSON.parse('{"path":"/blog/python/how-selenium.html","title":"Python使用Selenium详细步骤","lang":"zh-CN","frontmatter":{"title":"Python使用Selenium详细步骤","icon":"devicon:selenium","head":[["meta",{"name":"keywords","content":"python selenium"}],["meta",{"name":"description","content":"Python使用Selenium的详细步骤"}],["meta",{"property":"og:url","content":"https://www.igoblogs.com/blog/python/how-selenium.html"}],["meta",{"property":"og:site_name","content":"一起来编程"}],["meta",{"property":"og:title","content":"Python使用Selenium详细步骤"}],["meta",{"property":"og:description","content":"Selenium介绍 Selenium官方中文文档：https://www.selenium.dev/zh-cn/documentation/ Selenium 可以直接在浏览器上操作，像人一样进行文本框输入内容、按钮点击、链接弹出、下拉等操作，一般我们用它来做自动化测试。 它在爬虫领域利用也非常广泛，能解决大部分网页反爬问题，Selenium可以根据..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://www.igoblogs.com/images/python/selenium/01-install-start.png \\"开始安装Selenium\\""}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-12-03T17:21:17.000Z"}],["meta",{"property":"article:tag","content":"python"}],["meta",{"property":"article:tag","content":"selenium"}],["meta",{"property":"article:published_time","content":"2024-10-21T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-12-03T17:21:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Python使用Selenium详细步骤\\",\\"image\\":[\\"https://www.igoblogs.com/images/python/selenium/01-install-start.png \\\\\\"开始安装Selenium\\\\\\"\\",\\"https://www.igoblogs.com/images/python/selenium/01-install-finish.png \\\\\\"安装完成Selenium\\\\\\"\\"],\\"datePublished\\":\\"2024-10-21T00:00:00.000Z\\",\\"dateModified\\":\\"2024-12-03T17:21:17.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"小钟同学\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]],"category":["Python"],"tags":["python","selenium"],"date":"2024-10-21T00:00:00.000Z","permalink":"/blog/python/how-selenium.html","excerpt":"1.Selenium介绍<br>2.Selenium环境搭建","description":"Selenium介绍 Selenium官方中文文档：https://www.selenium.dev/zh-cn/documentation/ Selenium 可以直接在浏览器上操作，像人一样进行文本框输入内容、按钮点击、链接弹出、下拉等操作，一般我们用它来做自动化测试。 它在爬虫领域利用也非常广泛，能解决大部分网页反爬问题，Selenium可以根据..."},"headers":[{"level":2,"title":"Selenium介绍","slug":"selenium介绍","link":"#selenium介绍","children":[]},{"level":2,"title":"Selenium环境搭建","slug":"selenium环境搭建","link":"#selenium环境搭建","children":[]},{"level":2,"title":"安装驱动WebDriver","slug":"安装驱动webdriver","link":"#安装驱动webdriver","children":[]}],"git":{"createdTime":1732874731000,"updatedTime":1733246477000,"contributors":[{"name":"zhongjy-001","email":"zhongjy_001@163.com","commits":2}]},"readingTime":{"minutes":3.13,"words":938},"filePathRelative":"blogs/1.python/20241123-how-selenium.md","localizedDate":"2024年10月21日","autoDesc":true}');export{S as comp,q as data};
